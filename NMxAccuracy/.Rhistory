ls
# set working directory
setwd("~/Desktop/temple/research/Neuromelanin/Correlations/ESI/")
# load packages
# install.packages("ggpubr")
library("readxl")
library("ggpubr")
# import data (xlsx file available on the slab page for these analyses)
df <- read_excel("NZ_USE_Total_19May2021.xlsx")
head(df)
# Load dataframe
# Note: NZ_USE_Total contains all nonzeros for 'use' combined with the corresponding
# 'problems' scores, so there are still some zeros for 'problems' included in this
# measure, just no zeros for 'use'
df <- read_excel("NZ_USE_Total_19May2021.xlsx")
ggscatter(df, x = "Full SN Mask", y = "NZ ESI-bf Total",
main="Full NM and Total NZ Drug Use",
xlab = "Full NM Signal", ylab = "Total NZ Drug Use",
col = "darkblue",
add = "reg.line",
conf.int = TRUE,
add.params = list(color = "darkgray",
fill = "lightgray")
)+
stat_cor(method = "pearson")
ggscatter(df, x = "SN DA Submask", y = "NZ ESI-bf Total",
main="NM Submask and Total NZ Drug Use",
xlab = "SN DA Submask Signal", ylab = "Total NZ Drug Use",
col = "darkgreen",
add = "reg.line",
conf.int = TRUE,
add.params = list(color = "darkgray",
fill = "lightgray")
)+
stat_cor(method = "pearson")
ggscatter(df, x = "NZ ESI-bf USE Total Voxels", y = "NZ ESI-bf Total",
main="ESI-bf NZ USE Total Voxelwise Submask and Total NZ Drug Use",
xlab = "ESI-bf USE Submask Signal", ylab = "Total NZ Drug Use",
col = "darkred",
add = "reg.line",
conf.int = TRUE,
add.params = list(color = "darkgray",
fill = "lightgray")
)+
stat_cor(method = "pearson")
###############################################################################
#         NZ USE Total Score
###############################################################################
# Load dataframe
# Note: NZ_USE_Total contains all nonzeros for 'use' combined with the corresponding
# 'problems' scores, so there are still some zeros for 'problems' included in this
# measure, just no zeros for 'use'
df <- read_excel("NZ_USE_Total_19May2021.xlsx")
ggscatter(df, x = "Full SN Mask", y = "NZ ESI-bf Total",
main="Full NM and Total NZ Drug Use",
xlab = "Full NM Signal", ylab = "Total NZ Drug Use",
col = "darkblue",
add = "reg.line",
conf.int = TRUE,
add.params = list(color = "darkgray",
fill = "lightgray")
)+
stat_cor(method = "pearson")
ggscatter(df, x = "SN DA Submask", y = "NZ ESI-bf Total",
main="NM Submask and Total NZ Drug Use",
xlab = "SN DA Submask Signal", ylab = "Total NZ Drug Use",
col = "darkgreen",
add = "reg.line",
conf.int = TRUE,
add.params = list(color = "darkgray",
fill = "lightgray")
)+
stat_cor(method = "pearson")
ggscatter(df, x = "NZ ESI-bf USE Total Voxels", y = "NZ ESI-bf Total",
main="ESI-bf NZ USE Total Voxelwise Submask and Total NZ Drug Use",
xlab = "ESI-bf USE Submask Signal", ylab = "Total NZ Drug Use",
col = "darkred",
add = "reg.line",
conf.int = TRUE,
add.params = list(color = "darkgray",
fill = "lightgray")
)+
stat_cor(method = "pearson")
###############################################################################
# set working directory
setwd("~/Desktop/temple/research/Neuromelanin/Correlations/ESI/")
# load packages
# install.packages("ggpubr")
library("readxl")
library("ggpubr")
# import data (xlsx file available on the slab page for these analyses)
df <- read_excel("substance_use_info_10May2021.xlsx")
head(df)
hist(df$`ESI-bf Total`,
main = "Frequency of ESI-bf Total scores",
xlab = "Total Drug Use Score",
col = "darkblue")
hist(df$`ESI-bf Use Total`,
main = "Frequency of ESI-bf Total scores",
xlab = "Total Drug Use Score",
col = "darkblue")
hist(df$`ESI-bf Use Total`,
main = "Frequency of ESI-bf Total Use scores",
xlab = "Total Drug Use Score",
col = "darkblue")
hist(df$`ESI-bf Total`,
main = "Frequency of ESI-bf Total scores",
xlab = "Total Drug Use Score",
col = "darkblue")
## Script for correlations of Social Doors NM values with fMRI data
## Jimmy Wyngaarden, 27 April 2021
###############################################################################
###############################################################################
# set working directory
setwd("~/Desktop/temple/research/Neuromelanin/Correlations/ESI/")
# load packages
# install.packages("ggpubr")
library("readxl")
library("ggpubr")
# import data (xlsx file available on the slab page for these analyses)
df <- read_excel("substance_use_data_06_18_21.xlsx")
head(df)
# Turn this and the "dev.off()" command at the end of this script of to
# open a pdf and write plots to it
#pdf("Correlations_Output_27Apr2021")
df <- df[-1,]
df <- df[-1,]
df
df <- read_excel("substance_use_data_06_18_21.xlsx")
head(df)
###############################################################################
#        Data -- Use
###############################################################################
df <- df[-1,]
df
df <- read_excel("substance_use_data_06_18_21.xlsx")
head(df)
# import data (xlsx file available on the slab page for these analyses)
df <- read_excel("substance_use_data_18Jun21.xlsx")
head(df)
# Histogram of Total Use
hist(df$`Total Use`,
main = "Frequency of Total Use scores",
xlab = "Total Use Score",
col = "darkblue")
# Histogram of Marijuana Use
hist(df$`Marijuana Use`,
main = "Frequency of Marijuana Use scores",
xlab = "Marijuana Use Score",
col = "darkblue")
# Histogram of Marijuana Use
hist(df$`Drug Use`,
main = "Frequency of Drug Use scores",
xlab = "Drug Use Score",
col = "darkblue")
# Histogram of Marijuana Use
hist(df$`NZ Drug Use`,
main = "Frequency of NZ Drug Use scores",
xlab = "NZ Drug Use Score",
col = "darkblue")
# Histogram of Marijuana Use
hist(!isnan(df$`NZ Drug Use`,
main = "Frequency of NZ Drug Use scores",
xlab = "NZ Drug Use Score",
col = "darkblue"))
# Histogram of Marijuana Use
hist(!is.nan(df$`NZ Drug Use`,
main = "Frequency of NZ Drug Use scores",
xlab = "NZ Drug Use Score",
col = "darkblue"))
# Histogram of Marijuana Use
hist(!is.nan(df$`NZ Drug Use`),
main = "Frequency of NZ Drug Use scores",
xlab = "NZ Drug Use Score",
col = "darkblue")
df$'NZ Drug Use' <- !is.nan(df$"NZ Drug Use")
###############################################################################
###############################################################################
setwd("~/Documents/GitHub/neuromelanin/NMxAccuracy")
maindir <- getwd()
datadir <- file.path("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/")
# load packages
library("readxl")
library("ggpubr")
library("plot")
library("Hmisc")
# import data
df <- read_excel("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/all_correlations_script_07july21.xlsx")
head(df)
mcor <- round(cor(df),4)
mcor
write.csv(mcor, 'correlationmatrix.csv')
# from displayr website:
mydata = df
mydata.cor <- cor(df)
mydata.cor
mydata.rcorr = rcorr(as.matrix(df))
mydata.rcorr
mydata.coeff = mydata.rcorr$r
mydata.p = mydata.rcorr$P
write.csv(mydata.coeff, 'correlationmatrix_coeff.csv')
write.csv(mydata.p, 'correlationmatrix_p.csv')
## Script for correlations between Social Doors stats, NM values,  substance use
## Jimmy Wyngaarden, 07 July 2021
###############################################################################
###############################################################################
setwd("~/Documents/GitHub/neuromelanin/NMxAccuracy")
maindir <- getwd()
datadir <- file.path("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/")
# load packages
library("readxl")
library("ggpubr")
library("plot")
library("Hmisc")
# import data
df <- read_excel("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/all_correlations_script_07july21.xlsx")
head(df)
mcor <- round(cor(df),4)
mcor
write.csv(mcor, 'correlationmatrix.csv')
# from displayr website:
mydata = df
mydata.cor <- cor(df)
mydata.cor
mydata.rcorr = rcorr(as.matrix(df))
mydata.rcorr
mydata.coeff = mydata.rcorr$r
mydata.p = mydata.rcorr$P
write.csv(mydata.coeff, 'correlationmatrix_coeff.csv')
write.csv(mydata.p, 'correlationmatrix_p.csv')
###############################################################################
## Script for correlations between Social Doors stats, NM values,  substance use
## Jimmy Wyngaarden, 07 July 2021
###############################################################################
###############################################################################
setwd("~/Documents/GitHub/neuromelanin/NMxAccuracy")
maindir <- getwd()
datadir <- file.path("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/")
# load packages
library("readxl")
library("ggpubr")
library("plot")
library("Hmisc")
# import data
df <- read_excel("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/all_correlations_07july21.xlsx")
head(df)
mcor <- round(cor(df),4)
mcor
write.csv(mcor, 'correlationmatrix.csv')
# from displayr website:
mydata = df
mydata.cor <- cor(df)
mydata.cor
mydata.rcorr = rcorr(as.matrix(df))
mydata.rcorr
mydata.coeff = mydata.rcorr$r
mydata.p = mydata.rcorr$P
write.csv(mydata.coeff, 'correlationmatrix_coeff.csv')
write.csv(mydata.p, 'correlationmatrix_p.csv')
###############################################################################
# set working directory
setwd("~/Documents/GitHub/neuromelanin/NMxAccuracy")
maindir <- getwd()
datadir <- file.path("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/")
# install.packages("readxl")
# load packages
library("readxl")
#library("ggpubr")
# import data
df <- read_excel("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/NMxPositiveAccuracy_anova.xlsx")
df2 <- read_excel("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/NMxPositiveAccuracy_maineffects.xlsx")
df3 <- read_excel("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/NMxPositiveAccuracy_anova3way.xlsx")
df4 <- read_excel("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/NMfullxPositiveAccuracy_anova.xlsx")
df5 <- read_excel("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/NMfullxPositiveAccuracy_maineffects.xlsx")
df6 <- read_excel("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/NMfullxPositiveAccuracy_anova3way.xlsx")
MVSL_cor <- cor.test(df2$NM, df2$MVSL_avg, method = "pearson")
MVSL_cor
