# set working directory
setwd("~/Documents/GitHub/neuromelanin/NMxAccuracy")
maindir <- getwd()
datadir <- file.path("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/")
# install.packages("readxl")
# load packages
library("readxl")
library("ggpubr")
library("plot")
library("Hmisc")
# import data
df <- read_excel("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/NMxPositiveAccuracy_anova.xlsx")
df2 <- read_excel("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/NMxPositiveAccuracy_maineffects.xlsx")
df3 <- read_excel("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/NMxPositiveAccuracy_anova3way.xlsx")
df4 <- read_excel("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/NMfullxPositiveAccuracy_anova.xlsx")
df5 <- read_excel("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/NMfullxPositiveAccuracy_maineffects.xlsx")
df6 <- read_excel("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/NMfullxPositiveAccuracy_anova3way.xlsx")
fit.totaleffect=lm(MVSL_Contrast~Total Use, df5)
summary(fit.totaleffect)
fit.totaleffect=lm(df5$MVSL_Contrast~df5$Total Use, df5)
summary(fit.totaleffect)
fit.totaleffect = lm(df5$MVSL_Contrast~df5$Total Use)
summary(fit.totaleffect)
# import data
df <- read_excel("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/NMxPositiveAccuracy_anova.xlsx")
df2 <- read_excel("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/NMxPositiveAccuracy_maineffects.xlsx")
df3 <- read_excel("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/NMxPositiveAccuracy_anova3way.xlsx")
df4 <- read_excel("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/NMfullxPositiveAccuracy_anova.xlsx")
df5 <- read_excel("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/NMfullxPositiveAccuracy_maineffects.xlsx")
df6 <- read_excel("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/NMfullxPositiveAccuracy_anova3way.xlsx")
fit.totaleffect = lm(df5$MVSL_Contrast~df5$Total_Use)
summary(fit.totaleffect)
# import data
df <- read_excel("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/NMxPositiveAccuracy_anova.xlsx")
df2 <- read_excel("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/NMxPositiveAccuracy_maineffects.xlsx")
df3 <- read_excel("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/NMxPositiveAccuracy_anova3way.xlsx")
df4 <- read_excel("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/NMfullxPositiveAccuracy_anova.xlsx")
df5 <- read_excel("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/NMfullxPositiveAccuracy_maineffects.xlsx")
df6 <- read_excel("~/Documents/GitHub/neuromelanin/NMxAccuracy/data/NMfullxPositiveAccuracy_anova3way.xlsx")
head(df5)
summary(df5)
fit.totaleffect = lm(df2$MVSL_Contrast~df2$Total_Use)
summary(fit.totaleffect)
# effect of the IV onto the mediator
fit.mediator = lm(df2$NM_vstri~df2$Total_Use)
summary(fit.mediator)
# effect of the mediator on the dependent variable
fit.Total_Use = lm(df2$Total_Use+df2$NM_vstri)
summary(fit.Total_Use)
# effect of the mediator on the dependent variable
fit.dv = lm(df2$Total_Use+df2$NM_vstri)
summary(fit.dv)
# effect of the mediator on the dependent variable
fit.dv = lm(df2$MVSL~df2$Total_Use+df2$NM_vstri)
summary(fit.dv)
# effect of the mediator on the dependent variable
fit.dv = lm(df2$MVSL_Contrast~df2$Total_Use+df2$NM_vstri)
summary(fit.dv)
# causal mediation analysis
install.packages("mediation")
library("mediation")
results = mediate(fit.df2$NM_vstri, fit.df2$MVSL_Contrast, treat='df2$Total_Use', mediator='df2$NM_vstri', boot=T)
results = mediate(fit.df2$NM_vstri, fit.df2$MVSL_Contrast, treat='df2$Total_Use', mediator='df2$NM_vstri', boot=T)
results = mediate(fit.NM_vstri, fit.MVSL_Contrast, treat='Total_Use', mediator='NM_vstri', boot=T)
results = mediate(fit.NM_vstri, fit.MVSL_Contrast, treat='Total_Use', mediator='NM_vstri', boot=T, df2)
# NMfull as mediator for Substance Use & Striatal (MVSL) activation?
# total effect
fit.totaleffect = lm(df2$MVSL_Contrast~df2$Total_Use)
summary(fit.totaleffect)
# effect of the IV onto the mediator
fit.mediator = lm(df2$NM_vstri~df2$Total_Use)
summary(fit.mediator)
# effect of the mediator on the dependent variable
fit.dv = lm(df2$MVSL_Contrast~df2$Total_Use+df2$NM_vstri)
results = mediate(fit.mediator, fit.dv, treat='Total_Use', mediator='NM_vstri', boot=T)
results = mediate(fit.mediator, fit.dv, treat='df2$Total_Use', mediator='df2$NM_vstri', boot=T)
summary(results)
fit.totaleffect = lm(df2$MVSL_Contrast~df2$Total_Use)
summary(fit.totaleffect)
# effect of the IV onto the mediator
fit.mediator = lm(df2$NM_vstri~df2$Total_Use)
summary(fit.mediator)
# effect of the mediator on the dependent variable
fit.dv = lm(df2$MVSL_Contrast~df2$Total_Use+df2$NM_vstri)
summary(fit.dv)
# causal mediation analysis
#install.packages("mediation")
library("mediation")
results = mediate(fit.mediator, fit.dv, treat='df2$Total_Use', mediator='df2$NM_vstri', boot=T)
summary(results)
